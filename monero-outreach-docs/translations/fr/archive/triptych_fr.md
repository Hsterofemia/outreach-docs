# Triptych: Un Nouvel Algorithme Protégeant les Données des Utilisateurs de Monero

**“Monero obfusque l'émetteur, le destinataire, et le montant des transactions. Triptych est une amélioration pour Monero qui rend son utilisation plus rapide, plus légère et plus privée.” - 1e septembre, 2020**

Monero est conçu pour obfusquer les valeurs (émetteur, destinataire et montants) de chaque  transaction avec des techniques et des technologies complexes et en constante évolution.. Il s’agit de présenter ici Triptych, une technologie innovante permettant l’optimisation de la fonction d'obfuscation de l’émetteur, celui de l’usage de la chaine de blocs et une rapidité d’exécution supérieure.

### _Les Signatures de Cercle_

Pour assurer la confidentialité des émetteurs, Monero fait plus que garder le secret des adresses. L’ensemble de la base des données de Monero existe sur sa chaine de blocs sous forme de transactions sortantes dénommées TXO. À chaque TXO est assigné une identité unique (ID), appelée clé publique (également nommée "adresse furtive"). Par simple analyse de la chaine de blocs de Monero, il est impossible d'établir une relation entre les clés publiques des TXO et les adresses des portefeuilles électroniques de Monero. Cela étant, les clés publiques ont également besoin d’une protection. Il serait inacceptable que les flux de Monero parmi les clés publiques soient transparents, considérant que des techniques d'analyses externes pourraient associer ces clés publiques à des individus.

En l'état, les flux de Monero des clés publiques sont gardés confidentiels par l’usage d’un procédé de chiffrage nommé "cryptographic ring signatures". Ce procédé permet de dissimuler la clé publique d’un TXO en l'incorporant à un groupe de transaction-leurres (également nommée "mixins"). L’observation d’une transaction ne permettra donc pas de déterminer si un TXO donné est l’original ou non. Vous pouvez voir un exemple d’émission ou de réception de TXO en cherchant une transaction a l’aide d’un programme d’analyse de la chaine de blocs de Monero tel que [moneroblocks.info](https://moneroblocks.info/) ou [xmrchain.net](https://xmrchain.net/).

La manière dont les transaction-leurres TXO sont sélectionnées à partir de la chaine de blocs s’est améliorée au fil du temps. Au tout début, l'intégration de transaction-leurres - bien que faisant partie du système - restait facultative, et les leurres étaient sélectionnées uniformément sur l'historique entière des transactions. Avec le temps, le nombre de transaction-leurres grandit et devint obligatoire, pour atteindre aujourd'hui exactement 10 transaction-leurres par ordre d’exécution. De même, le procédé statistique de sélection fut affiné au fil du temps pour lui donner plus de complexité grâce au "tailored random process" (un algorithme basé sur le procédé de sélection pour l’exécution de l’ordre d’après une théorie statistique de distribution gamma particulière, que nous utilisons encore a ce jour).

Le coeur des algorithmes a signature de cercle a également été amélioré: la publication de proposition originelle ("whitepaper") de CryptoNote présentait un processus de signature de cercle moins efficace et différent de celui que nous employons actuellement, qui est bâti sur l’utilisation des signatures "Multilayered Linkable Spontaneous Anonymous Group" (MLSAG). Une amélioration substantielle, nommée signatures "Compact Linkable Spontaneous Anonymous Group" (CLSAG), est attendue prochainement, et promet de réduire d’environ un quart le poids (en termes de données) des transactions et d’un dixième leur temps de confirmation (pour une transaction de deux entrées et deux sorties).

Toutes ces améliorations ont donné à Monero de puissantes capacités d’anonymisation. À chaque mouvement de Monero, tout TXO sortant prend la forme d’une clé publique TXO (ou adresse furtive), sans lien cryptographique avec l’adresse émettrice. Cette clé publique est mêlée à 10 autres clés publiques-leurres, sélectionnées pour leur vraisemblance. Cela rend toute surveillance extrêmement difficile, tout en assurant une rapidité et une fluidité d’exécution du logiciel de Monero, et offrant une chaine de blocs de taille et de vitesse acceptable.

### _Les Défis_

Néanmoins, la technologie obfusquant l’émetteur n’est pas optimale. Dix transactions-leurres ne sont pas toujours suffisantes parce que certains TXO aléatoires pourraient être identifiés comme étant des leurres. Ils ont peut-être déjà servi pour des transactions déjà identifiées et révélé par le passé. L’existence de listes noires pourrait poser problème et offrir à des adversaires motivés une arme potentielle en prenant l’initiative de les ajouter à la liste de leurs portefeuilles. Il y a également d’autres astuces pour identifier les leurres, en liant les TXO aux échanges ou aux pools de mineurs de Monero, en estimant leur usage dans d’autres transferts et en évaluant des probabilités statistiques temporelles.

Imaginons une séance d'identification au poste de police, composé d'un innocent et de 10 autres accusés. Si les 10 accusés sont tous des amis d'un supposé témoin, il ne sera pas possible de protéger la personne innocente et celle ci risque d'être déclarée coupable, bien qu'elle soit innocente. Il en va de même pour les signatures de cercle de Monero: la technique de se fondre dans la foule ne peut marcher que lorsque la foule est convaincante et l'identité des participants n'est pas connue par les tiers. Contre des adversaires déterminés, 10 leurres choisis au hasard peuvent ainsi paraître insuffisants. Pourquoi, alors, ne pas en intégrer plus?

Dans le cas des algorithmes MLSAG/CLSAG utilisés par Monero, le délai de traitement de la transaction est proportionnel à sa taille: les deux augmentent linéairement en fonction du nombre de leurres utilisés. L’utilisation de dix leurres permet d'atteindre un niveau d'anonymat acceptable, contrebalancé par le besoin d’une chaine de blocs plus petite permettant un traitement plus expéditif des transactions. Un plus grand nombre de leurres offrirait une anonymisation supérieure, mais augmenterait également la taille de la chaine de blocs de Monero – déjà plusieurs fois plus grande que celle de Bitcoin - et ralentirait les portefeuilles électroniques lors des validations de transaction.

### _Triptych_

Triptych a été conçu pour adresser ces défis: il s’agit d’un nouvel algorithme destiné aux signatures de cercles développé par Sarang Noether et Brandon Goodell des Laboratoires de Recherche de Monero (MRL) avec la participation de Arthur Blue (RandomRun). Avec Triptych, la taille de la signature de cercle croît de manière logarithmique plutôt que linéaire. La croissance logarithmique est très lente, et présente un choix judicieux qui permet d’éviter de faire confiance à des tierces parties (et par là, faire échec à l’anonymat comme pour Zcash). Le délai de vérification des opérations croît toujours linéairement avec le nombre de leurres avec Triptych, mais les vérifications peuvent-être regroupées et triées par l'entremise d’algorithmes spécialisés, accélérant le traitement.

Triptych parvient à faire fi de plusieurs difficultés posées par l’usage des signatures de cercles avec Monero. Il permet notamment d’établir un lien: la technique des signatures de cercles de Monero doit bloquer la réutilisation de clés publiques légitimes afin de prévenir le double usage d’un TXO. Triptych y parvient en utilisant des étiquettes de liaison ("linking tags"), similaires aux images cryptographiques actuelles. Triptych est aussi compatible avec les transactions confidentielles, qui permettent d’obfusquer les volumes de Monero échangés. Des données spéciales (“clés d’engagement - "commitment keys"), permettent de valider toutes les opérations de mouvement de Monero sans dévoiler leurs montants. Ces clés d’engagement, avec les clés publiques et les étiquettes de liaison, sont les trois éléments qui donnent naissance au nom de Triptych, qui signifie "formé de trois parties".

### _Tests et Alternatives_

Triptych permet une augmentation quantifiable de la rapidité d'utilisation de Monero. Un de ses créateurs, Sarang Noether, a signalé que le code d’essai donnait une amélioration d’exécution significative. Grossièrement, l’utilisation de 63 leurres sous Tryptych est 10% plus rapide que l’utilisation de 10 leurres avec CLSAG. Ces performances présentent une amélioration fondamentale pour Monero, tout en étant pratique à l'utilisation.

Il reste cependant du travail à faire: une inspection rigoureuse d’un nouvel algorithme tel que Triptych est toujours nécessaire avant son inclusion dans le code source de Monero. Bien que l’algorithme de Triptych ait été soumis à l’appréciation de chercheurs pairs (et accepté pour présentation au séminaire ESORICS CBT 2020), Triptych pourrait encore bénéficier de modifications pour optimiser d'avantage sa rapidité d’exécution. Le temps consacrable à l'amelioration de Triptych peut toutefois être dédié à la recherche de solutions alternatives.

Une de ces alternatives – particulièrement prometteuse - se trouve à être une version plus pointue de Triptych, elle-même appelée Arcturus, et développée par Sarang Noether. Arcturus réduit d'avantage la taille des transactions, utilisant le paquet de données chiffrées de la transaction entière plutôt qu'une signature pour chaque TXO. Artcurus et Triptych ont des délais de vérifications similaires. La réduction de taille se fait au prix d'hypothèses mathématiques dans Arcturus qui ne sont pas nécessaires avec Triptych.

### _Conclusion_

Avec Triptych, et son complément Arcturus, Monero possède une technologie formidable, offrant la possibilité de remplacer la croissance linéaire du volume de la signature de cercle (et du nombre de leurres utilisés pour cacher l’émetteur) par une croissance logarithmique. S'il venait à être adopté, l'algorithme de Triptych permettrait d’augmenter le nombre de leurres sans causer l'inflation de la chaine de blocs ou l’augmentation d’usage de CPU lors de la validation des opérations. La technologie de Triptych est une manifestation de l’esprit de Monero pour rendre possible et toujours mieux protéger l'anonymat et la liberté de ses utilisateurs.
